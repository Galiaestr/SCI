<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>ICATLAX - Ver Curso</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap y estilos institucionales -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>

  <!-- Encabezado institucional -->
  <header class="container-fluid header-area py-3">
    <div class="row justify-content-center align-items-center">
      <div class="col-12 text-center">
        <img src="{{ url_for('static', filename='images/Icatlax-logo.png') }}" alt="ICATLAX"
          class="img-fluid icatlax-symbol-logo">
      </div>
    </div>
  </header>

  {% include 'partials/navbar.html' %}

  <!-- Encabezado administrativo -->
  <header class="bg-light border-bottom py-2 mb-3">
    <div class="container d-flex justify-content-between align-items-center">
      <h5 class="mb-0 text-muted">Panel Administrativo</h5>
      <a href="{{ url_for('logout') }}" class="btn btn-outline-danger btn-sm">Cerrar sesión</a>
    </div>
  </header>

  <!-- Contenido principal -->
  <main class="container py-4">
    <h3 class="category-title">{{ curso['nombre_curso'] }}</h3>
    <h5 class="text-muted mb-2">Categoría: {{ curso['nombre_categoria'] }}</h5>
    <p class="lead">Descripción: {{ curso['descripcion'] }}</p>

    <!-- Carrusel de imágenes -->
    {% if imagenes %}
    <div id="carouselCurso" class="carousel slide mb-4" data-ride="carousel">
      <div class="carousel-inner">
        {% for img in imagenes %}
        <div class="carousel-item {% if loop.first %}active{% endif %}">
          <img src="{{ url_for('static', filename='img/' ~ img['foto']) }}"
            onerror="this.src='/static/img/error-placeholder.jpg'; this.classList.add('opacity-25')"
            class="d-block w-100 rounded shadow-sm" style="max-height: 500px; object-fit: cover;">
        </div>
        {% endfor %}
      </div>
      <a class="carousel-control-prev" href="#carouselCurso" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      </a>
      <a class="carousel-control-next" href="#carouselCurso" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
      </a>
    </div>
    {% else %}
    <div class="alert alert-info">Este curso aún no tiene imágenes registradas.</div>
    {% endif %}

    <!-- Botones de acción directa -->
    <div class="row mb-4">
      <div class="col-auto">
        <a href="{{ url_for('usuarios_admin.ver_inscritos', id_curso=curso['id_curso']) }}"
          class="btn btn-outline-primary btn-sm">
          <i class="fas fa-users"></i> Usuarios inscritos <br>
        </a>
      </div>
      <div class="col-auto">
        <a href="{{ url_for('cursos_admin.editarCurso', id=curso['id_curso']) }}"
          class="btn btn-outline-success btn-sm">
          <i class="fas fa-edit"></i> Editar curso <br>
        </a>
      </div>
      <div class="col-auto">
        <a href="{{ url_for('cursos_admin.desactivarCurso', id=curso['id_curso']) }}"
          class="btn btn-outline-danger btn-sm"
          onclick="return confirm('¿Estás seguro que quieres desactivar este curso?')">
          <i class="fas fa-ban"></i> Desactivar
        </a>
      </div>
    </div>

    <!-- Botón de retorno -->
    <a href="{{ url_for('cursos_admin.cursos_panel') }}" class="btn btn-outline-secondary btn-lg">← Volver</a>
  </main>

  <footer class="container-fluid footer-area py-4 text-center">
        <p class="mb-1">Módulo de Capacitación ICATLAX-Xiloxochitla</p>
        <p class="mb-1">Dirección: Plaza de comunidad s/n, San Vicente Xiloxochitla, Nativitas, Tlax.</p>
        <p class="mb-1">Teléfonos: 248 160 8547 y 246 416 1562</p>
        <p class="mb-1">Email: presidencia@xiloxochitla.mx</p>
        <p class="mb-0">© 2024-2025 Xiloxochitla</p>
    </footer>

  <!-- Scripts JS -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>